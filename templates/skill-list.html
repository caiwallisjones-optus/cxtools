{% extends 'base.html' %}

{% block content %}
  <h2>Skills</h2>
  {% if errMsg%}
  <p class="justify-content-lg-center btn-warning">{{errMsg}}</p>
  {% endif %}
  <br>
  <p>WARNING: All skills must be sychronised and attached to a CX one skill before deployment</p>
  <br>
  <form method="post" >
    <div class="btn-group btn-group-med">
      <button type="submit" class="btn btn-primary"  name="action" value="new">Create</button>
    </div>
    <div class="btn-group btn-group-med">
      <button type="submit" class="btn btn-primary {%if (buConnected == 0 ) or (buConnected == None) %}btn-info disabled{%endif%}"  name="action" value="import">Synchronise</button>
    </div>
    <br>
  </form>
  <br>
  <br>
  <div class="container">

    <div class="table-responsive">
      <table class="table table-bordered table-hover table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Attached Queue</th>
            <th>Source</th>
            <th class="col-md-2">Actions</th>
          </tr>
        </thead>
      </tbody>
      {% for item in items %}
      <form method="post" >
      <tr>
        <input type="hidden" name="id" value="{{ item[0] }}">
        <td>{{ item[5] }}</td>
        <td>{{ item[6] }}</td>
        <td>TODO</td>
        <td>{%if (item[3] == None) or ((item[3]) == "" ) %}Internal{%else%}CXone{%endif%}</td>
        <td>
          <button type="submit" class="btn btn-link" name="action" value="delete">
            <span class="glyphicon glyphicon-trash"></span>
          </button>
          {%if (item[3] == None) or (item[3] == "" ) %}
          <button type="submit" class="btn btn-link"  name="action" value="edit">
            <span class="glyphicon glyphicon-pencil"></span>
          </button>
          <button type="submit" class="btn btn-link" name="action" value="link">
            <span class="glyphicon glyphicon-link"></span>
          </button>
          {%endif%}
        </td>
      </tr>
    </form>
    
    {% endfor %}
  </tbody>
  </table>
  </div>
</div>
{% endblock %}
