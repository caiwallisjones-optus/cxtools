{% extends 'base.html' %}
{# Inputs:  render_template('CallFlow-list.html',  items = list, action_item, action_responses) item,action_item,responses #}
{% block content %}
{% if item == None %}
<h2>Call Flow</h2>
{%else%}
<h2>Call Flow</h2>
{% endif %}
<!--header for queue information-->
{% if errMsg%}
<!--We had an error the last time we told the user to do this - display and retry-->
<p class="justify-content-lg-center btn-warning">{{errMsg}}</p>
{% endif %}
<form method='post'>
  <div>
    <input type="hidden" name="id" value="{{ item[0] }}"></input>
  </div>
  <div class="form-group">
    <input type="hidden" name="id" value="{{ item[0] }}" ></input>
    {%if action_item == None%}
    <input type="hidden" name="action_id" value="0" ></input>
    {%else%}
    <input type="hidden" name="action_id" value="{{action_item.action_id}}" ></input>
    {%endif%}
    <label for="name">Name:</label>
    <input type="text" class="form-control" id="name" name="name" value="{{item[2]}}">
  </div>
  <div class="form-group">
    <label for="description">Description:</label>
    <input type="text" class="form-control" id="description" name="description" value="{{item[3]}}">
  </div>
  {% if item != None %}
  <div class="panel panel-primary">
    <div class="panel-heading">..</div>
    <div class="panel-body">
      <div class="form-inline">
        <div class="form-group">
          <div class="input-group">
            <div>
            <!--<input type="text" class="form-control" id="name" name="name" value = "{{ item[2] }}" {% if item_action== None %} readonly{% endif %}>-->
            <input type="text" class="form-control" id="action_name" name="action_name" value="EnterName">
            &nbsp;
            <select class="form-control" id="CallFlowaction" name="action_type">
                <option value="CHECKHOURS">Check hours of operation</option>
                <option value="PLAY">Play message</option>
                <option value="MENU">Play menu and request a user response</option>
                <option value="MENUOPT">Play menu and default to response if no selection</option>
                <option value="QUEUE">Exit CallFlow and queue to a skill</option>
                <option value="TRANSFER">Transfer to a external number</option>
                <option value="VOICEMAILOPT">Offer a voicemail within the CallFlow</option>
                <option value="VOICEMAIL">Force call to voicemail within the CallFlow</option>
                <option value="HANGUP">Hang up the call</option>
              </select>&nbsp;
              <input type="text" class="form-control" id="name" name="action_param" value="<EnterDetails>">
            
              <button type="submit" class="form-control btn btn-primary btn-med" name="action"
                value="irv_action_new">Create</button>
              </div>
          </div>
        </div>
        <br>
        <br>
        <div class="panel panel-default clearfix ">
          <div class="panel-heading clearfix">Action Response
            <button type="submit" class="form-control btn btn-primary btn-sm  pull-right" name="action"
                value="irv_action_new">Add</button>
          </div>
          <div class="panel-body">A table yaaay!</div>
        </div>
      </div>
    </div>
  </div>
  {%endif%}
  <h4>Select Create to begin adding actions<h4>
      <div class="pull-right">
        <div class="btn-group btn-group-med">
          {% if item == None %}
          <button type="submit" class="btn btn-primary btn-med px-4 gap-3 pull-right" name="action"
            value="item_new">Create</button>
          {%else%}
          <button type="submit" class="btn btn-primary btn-med px-4 gap-3 pull-right" name="action"
            value="item_update">Update</button>
          {%endif%}
        </div>
        <div class="btn-group btn-group-med">
          <button type="submit" class="btn btn-primary btn-med px-4 gap-3 pull-right" name="action"
            value="item_cancel">Cancel</button>
        </div>
      </div>

</form>
{% endblock %}