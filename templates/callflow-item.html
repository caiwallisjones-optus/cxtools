{% extends 'base.html' %}
{% import 'macro.jinja' as common %}
{# Inputs:  render_template('CallFlow-list.html',  items = list, action_item, action_responses) item,action_item,responses #}

{% block content %}
{% if item == None %}
<h2>Call Flow</h2>
{%else%}
<h2>Call Flow</h2>
{% endif %}
<!--header for queue information-->
{% if errMsg%}
<!--We had an error the last time we told the user to do this - display and retry-->
<p class="justify-content-lg-center btn-warning">{{errMsg}}</p>
{% endif %}
<form method='post'>
  {{ common.def_RenderActions() }}
  <div>
    <input type="hidden" name="id" value="{{ item[0] }}"></input>
  </div>
  <div class="form-group">
    <input type="hidden" name="id" value="{{ item[0] }}" ></input>
    {%if action_item == None%}
    <input type="hidden" name="action_id" value="0" ></input>
    {%else%}
    <input type="hidden" name="action_id" value="{{action_item.action_id}}" ></input>
    {%endif%}
    <label for="name">Name:</label>
    <input type="text" class="form-control" id="name" name="name" value="{{item[2]}}">
  </div>
  <div class="form-group">
    <label for="description">Description:</label>
    <input type="text" class="form-control" id="description" name="description" value="{{item[3]}}">
  </div>
  {% if item != None %}
  <div class="panel panel-primary">
    <div class="panel-heading">..</div>
    <div class="panel-body">
      <div class="form-inline">
        <div class="form-group">
          {{ common.def_RenderCallFlowAction(item) }}
        <div class="panel panel-default clearfix ">
          <div class="panel-heading clearfix">Action Response
            <button type="submit" class="form-control btn btn-primary btn-sm  pull-right" name="action"
                value="irv_action_new">Add</button>
          </div>
          <div class="panel-body">A table yaaay!</div>
        </div>
      </div>
    </div>
  </div>
  {%endif%}
</form>
{% endblock %}